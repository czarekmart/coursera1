<!doctype html>
<html>
<head>
    <title>JavaScript Color Guessing Game</title>
</head>
<body onload="do_game()">
<script>

    var target;
    var target_index;
    var guess_input;
    var finished = false;
    var guesses = 0;
    var cancelled = false;
    var colors;
    colors = [
        "aqua",
        "aquamarine",
        "azure",
        "beige",
        "bisque",
        "black",
        "blue",
        "brown",
        "chartreuse",
        "chocolate",
        "coral",
        "cornsilk",
        "crimson",
        "cyan",
        "darkblue",
        "darkcyan",
        "darkgreen",
        "darkkhaki",
        "darkmagenta",
        "darkorange",
        "darkorchid",
        "darkred",
        "darkviolet",
        "deeppink",
        "firebrick",
        "forestgreen",
        "fuchsia",
        "gainsboro",
        "gold",
        "goldenrod",
        "green",
        "greenyellow",
        "indigo",
        "ivory",
        "khaki",
        "lavender",
        "lightblue",
        "lightcyan",
        "lightgreen",
        "lightyellow",
        "lime",
        "linen",
        "magenta",
        "maroon",
        "mediumblue",
        "mediumpurple",
        "midnightblue",
        "mintcream",
        "mistyrose",
        "moccasin",
        "navy",
        "olive",
        "orange",
        "orangered",
        "orchid",
        "palegreen",
        "peru",
        "pink",
        "plum",
        "powderblue",
        "purple",
        "red",
        "rosybrown",
        "royalblue",
        "saddlebrown",
        "salmon",
        "sandybrown",
        "seagreen",
        "seashell",
        "sienna",
        "silver",
        "skyblue",
        "slateblue",
        "snow",
        "springgreen",
        "steelblue",
        "tan",
        "teal",
        "thistle",
        "tomato",
        "turquoise",
        "violet",
        "wheat",
        "yellow",
        "yellowgreen"
    ];

    function do_game() {

        target_index = Math.floor(Math.random() * colors.length);
        target = colors[target_index];
        alert("I am thinking of color " + target +
                "\n\nPlease memorize it.");

        while (!finished && !cancelled) {
            guess_input = prompt("I am thinking of one of the following colors:\n"+
                    colors.join(", ") +
                    "\n\nWhat color am I thinking of?\n");
            if ( guess_input == null ) {
                cancelled = true;
            }
            else {
                guess_input = guess_input.toLowerCase();
                guesses += 1;
                finished = check_guess();
            }
        }
    }

    function check_guess() {
        var guess_index = colors.indexOf(guess_input);
        if (guess_index < 0) {
            alert("Sorry, I don't recognize your color: " + guess_input + ".\n\n" +
                    "Please try again.");
            return false;
        }
        if (guess_input > target) {
            alert("Sorry, your guess is not correct!\n\nHint: Your color is alphabetically higher than mine!\n\nPlease try again.");
            return false;
        }
        if (guess_input < target) {
            alert("Sorry, your guess is not correct!\n\nHint: Your color is alphabetically lower than mine!\n\nPlease try again.");
            return false;
        }
        (document.getElementsByTagName("body")[0]).style.background = target;
        alert("Congratulations! You have guessed the color!\n\nIt took you " + guesses + " guesses to get finish the game!\n\n" +
            "You can see the color in the background.");
        return true;
    }

</script>
</body>
</html>

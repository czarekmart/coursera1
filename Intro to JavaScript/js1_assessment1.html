<!doctype html>
<html>
<head>
    <title>JavaScript Color Guessing Game</title>
</head>
<body onload="do_game()">
<script>

    var target;
    var target_index;
    var guess_input;
    var finished = false;
    var guesses = 0;
    var cancelled = false;

    function do_game() {
        colors = [
            "AliceBlue",
            "AntiqueWhite",
            "Aqua",
            "Aquamarine",
            "Azure",
            "Beige",
            "Bisque",
            "Black",
            "BlanchedAlmond",
            "Blue",
            "BlueViolet",
            "Brown",
            "BurlyWood",
            "CadetBlue",
            "Chartreuse",
            "Chocolate",
            "Coral",
            "CornflowerBlue",
            "Cornsilk",
            "Crimson",
            "Cyan",
            "DarkBlue",
            "DarkCyan",
        ];

        target_index = Math.floor(Math.random() * colors.length);
        target = colors[target_index];
        alert("I am thinking of color " + target +
            "\n\nPlease memorize it.");

        while (!finished && !cancelled) {
            guess_input = prompt("I am thinking of one of the following colors:\n"+
                    colors.join(", ") +
                    "\n\nWhat color am I thinking of?\n" +
                    "(Your input must be case sensitive)");
            if ( guess_input == null ) {
                cancelled = true;
            }
            else {
                guesses += 1;
                finished = guess_input == target;
            }
        }
    }

    function check_guess() {
        if (!colors.contains(guess_input)) {
            alert("I don't recognize your input: " + guess_input + ".\n" +
                    "Please try again.");
            return false;
        }
        if ((guess_input != target)) {
            alert("Please enter an integer number in the range 1 to 100.");
            return false;
        }
        if (guess_input > target) {
            alert("Your number is too large!");
            return false;
        }
        if (guess_input < target) {
            alert("Your number is too small!");
            return false;
        }
        alert("You got it! The number was " + target +
                ".\n\nIt took you " + guesses +
                " guesses to get the number!");
        return true;
    }

</script>
</body>
</html>
